# Feature Engineering

## Feature Engineering 정의
- 머신러닝 알고리즘을 작동하기 위해 데이터에 대한 도메인 지식을 활용하여 특징을 만들어내는 과정
- 머신러닝 모델을 위한 데이터 테이블의 컬럼을 생성하거나 선택하는 작업
- 모델의 성능을 높이기 위해 모델에 입력할 데이터를 만들기위해 주어진 초기 데이터로부터 특징을 가공하고 생성하는 전체 과정을 의미
- 굉장히 중요한 단계이며, 전문성과 시간과 비용이 많이 드는 작업
<hr>

## 특징 선택(Feature Selection)
- 특징 랭킹 또는 특징 중요도라고도 불림
- 분류 모델중 Decision Tree 같은 경우는 트리의 상단에 있을 수록 중요도가 높으므로 이를 반영하여 특징 별로 중요도를 매길 수 있음
- 회귀 모델의 경우 forward selelction과 backward elimination같은 알고리즘을 통해 특징을 선택
<hr>

## 차원감소(Dimension Reduction)
- 차원 갑소는 feature extraction 다시 말해 특징 추출이라는 말로도 불림
- 차원 축소는 단순히 데이터의 압축이나 잡음을 제거하는 것임 아님
- 데이터의 압축이나 잡음을 제거하는 효과도 있겠지만, 이것의 가장 중요한 의의는 관측 데이터를 잘 설명할 수 있는 잠재 공간을 찾는 것
- 가장 대표적인 알고리즘에 PCA(Principle Component Analysis)가 있음
- PCA란 각 변수를 하나의 축으로 투영시켰을 때 분산이 가장 큰 축을 첫번째 주성분으로 선택하고 그 다음 큰 축을 두번째 주성분으로 선택하고 데이터를 선형 변환하여 다차원을 축소하는 방법
<hr>

## 특징 생성(Feature Generation)
- 특징 구축이라고도 하며, 많은 사람들이 Feature Engineering 이라고 말함
- 초기에 주어진 데이터로부터 모델링 성능을 높이는 새로운 특성을 만드는 과정
- 데이터에 대한 도메인 전문성을 바탕으로 데이터를 합치거나 쪼개는 등의 작업을 거쳐 새로운 Feature를 만들게 됨
- 간단한 예로 시간 데이터를 AM/PM 으로 나누는 것이 있음
- 이 작업은 한번에 끝나는 것이 아니라 끊임없이 모델링 성능을 높이는 목적으로 반복해서 작업할 수 있는 부분이기에 전문성과 경험에 따라 비용과 시간을 줄일 수 있는 부분
<hr>

## Feature Engineering 처리
![image](https://user-images.githubusercontent.com/22341383/132354360-5908cb4a-15a7-4ec7-9f1d-5720539a3514.png)

<hr>

## 관점에 따른 Feature 분류
- 비즈니스 기반 특징 : 해결하려는 문제가 있는 현장인 비즈니스 관점에서 데이터를 분석하여 특징을 만들어내는 관점
- 데이터 기반 특징 : 비즈니스 관점이 없어도 주어진 데이터를 다루는 과정에서 특징을 만들어내는 관점
- 서로 조합되어 좋은 Feaure를 만드는것이 가장 nice
<hr>

## Feature Engineering 방법 분류
- 지표변수 : 지표가 되는 변수를 만드는 것
- 중복 특징 : 두개의 특징을 결합하여 새로운 특징을 만드는 방법
- 대표 특징 : 특징들로부터 대표성을 갖는 새로운 특징을 만드는 작업
- 외부 데이터 : 모델의 성능을 높이기 위해 기존의 주어진 데이터 외의 다른 데이터를 활용하는 방법
- 에러 분석 : 모델을 통해 나온 결과를 바탕으로 특징을 만드는 방법
<hr>

## 에러분석 
- Star with lager errors : 모델을 통해 나온 모든 값을 확인하기 보다, 에러값이 큰 feature 부터 확인하는 방법
- Segment By classes : 평균 에러값을 기준으로 Segment를 나누어 비교하면서 분석하는 방법
- Unsupervised clustering : 패턴을 발견하는데 어려움이 있을 경우 비지도학습인 Clustering 알고리즘을 사용하여 분류되지 않은 값들을 확인하는 방법, 여기서 clustering을 클래스로 분류하는 것이 아니라 에러의 원인을 찾는 방법으로 사용해야 한다는 점을 주의
- Ask colleagues or domain experts : 데이터를 통해서 발견할 수 없다면 도메인 전문가의 도움을 톨해 에러의 원인을 찾아낼 수도 있음
  
